---
sidebar_position: 2
sidebar_label: Translation (i18n)
title: React Message Translation (i18n)
---

In this section we will go through a step by step example on how to translate the form error messages generated by  **simple-body-validator** in the **React** application.

## Add The Translation Messages

The first step is to create a directory that will hold all the translation files. In the following example we will
create a directory called <code>lang</code>, of course you can use any other directory name. Add to the directory
three files, <code>en.js</code> for the English translations, <code>fr.js</code> for the French translations, and <code>index.js</code>.

```js
/lang
    en.js
    fr.js
    index.js
```

Now we should add the corresponding entries for each of the files. You can find the full list of translation attributes [here](/error-messages/error-messages-list).

```js title="lang/fr.js" {
export default {
    required: 'Le champ :attribute est obligatoire',
    numeric: 'Le champ :attribute doit être un nombre.',
    min: {
        number: 'Le :attribute doit être au moins égal à :min.',
        string: 'Le :attribute doit comporter au moins trois caractères'
    },
}
```

```js title="lang/en.js"
export default {
    // We will leave the en.js file empty, and just rely in the default english messages provided by the library
}
```

:::info Default Messages
By default simple-body-validator returns the messages in English. The <code>en.js</code> in that case will be only used 
to override any existing message.
:::

Now the <code>index.js</code> will be used to export all the translations in one file.

```js title="lang/index.js"
import en from './en';
import fr from './fr';

export default {
    en, fr
};
```

## Apply the Translated Messages

After adding all the needed translations, we need to initialize them in the <code>App.js</code> file using the <code>setTranslationObject</code> method.

```js title="App.js"
import translations from './lang';
import { setTranslationObject } from 'simple-body-validator';


setTranslationObject(translations);
```

Of course we will also need to add a default lang for our application. In case the default lang was not set,
the <code>English</code> language will be used as the default one. To accomplish this we will use the <code>setDefaultLang</code> method.

```js title="App.js"
import translations from './lang';
import { setTranslationObject, setDefaultLang } from 'simple-body-validator';

setTranslationObject(translations);
// Set the French language as the default
setDefaultLang('fr');
```

:::caution
The <code>setDefaultLang</code> should be set after setting the translation object and not before.
:::

A full reference to the translation feature can be found [here](/error-messages/translating-error-messages).

## Form Translation Example

Assuming that you already started with the example from the previous [section](/react/validation-quickstart).
We will continue by adding a button to switch between the <code>English</code> and <code>French</code> languages.

Now let's start by adding the <code>lang</code> state to our code.

```js
const [lang, setLang] = useState(validator.getLang());
```

Next we will add the <code>changeLanguage</code> method.

```js
const changeLanguage = () => {
    validator.getLang() === 'fr' ? validator.setLang('en') : validator.setLang('fr');
    setLang(lang === 'fr' ? 'en' : 'fr');
};
```

As shown in the code snippet above, the <code>setLang</code> method can be used on the <code>validator</code> instance
to specify the language. Now let's add the **change Language** button under the <code>form</code> tag.

```html
<form>
    ...
</form>
<button onClick={changeLanguage}>
    Change Language
</button>
```

Try to switch between languages and submit the form. The messages will appear according to the selected language.
However, we still face one problem, the <code>attribute</code> value for the <code>French</code> language is incorrect.
To solve this problem we will navigate to the <code>fr.js</code> file that we created previously and add the following.

```js
attributes: {
    name: 'Nom',
    age: 'âge',
    movie: 'film'
},
```

What we did above, is that we mapped each attribute to a new custom attribute name. You can read more about custom
attributes [here](/error-messages/translating-error-messages#specifying-attributes-in-language-files).
The full code for the translation example can be found below.

<div>
    <iframe width="100%" height="400px"  src="https://stackblitz.com/edit/react-25vjmp?ctl=1&embed=1&file=src/App.js"> </iframe>
</div>
<br />

In the example above we wanted to have a custom message for the <code>min</code> rule only when used with the <code>age</code> attribute.
To do so, we added the following <code>custom</code> attribute to each of the language files.

```js title="en.js"
    custom: {
        age: {
            min: 'The age must be at least :min years.',
        },
    },
```

```js title="fr.js"
    custom: {
        age: {
            min:  'L\'âge doit être d\'au moins :min ans.',
        },
    },
```

You can read more about attribute custom messages [here](/error-messages/translating-error-messages#custom-messages-for-specific-attributes).

